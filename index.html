<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Plot Editor</title>
    <link rel="stylesheet" href="style.css">
    <script src="math.js"></script>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <h1>Visual Plot Editor</h1>
            <div class="toolbar">
                <button id="undo-btn" class="btn btn-secondary" disabled title="Nothing to undo">
                    <span class="icon">‚Ü∂</span> Undo
                </button>
                <button id="redo-btn" class="btn btn-secondary" disabled title="Nothing to redo">
                    <span class="icon">‚Ü∑</span> Redo
                </button>
                <div class="toolbar-separator"></div>
                <button id="clear-plot" class="btn btn-danger">Clear Plot</button>
                <button id="export-plot" class="btn btn-primary">Export PNG</button>
                <button id="export-svg" class="btn btn-primary">Export SVG</button>
            </div>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <div class="tool-panel">
                    <h3>Tools</h3>
                    <div class="tool-buttons">
                        <button id="tool-select" class="tool-btn active" data-tool="select" title="Select tool (Ctrl+1)">
                            <span class="icon">‚ü∑</span>Select
                        </button>
                        <button id="tool-point" class="tool-btn" data-tool="point" title="Point tool (Ctrl+2)">
                            <span class="icon">‚Ä¢</span>Point
                        </button>
                        <button id="tool-line" class="tool-btn" data-tool="line" title="Line tool (Ctrl+3)">
                            <span class="icon">üìè</span>Line
                        </button>
                        <button id="tool-area" class="tool-btn" data-tool="area" title="Area tool (Ctrl+4)">
                            <span class="icon">‚ñ¢</span>Area
                        </button>
                        <button id="tool-brace" class="tool-btn" data-tool="brace" title="Brace tool (Ctrl+5)">
                            <span class="icon">}</span>Brace
                        </button>
                        <button id="tool-text" class="tool-btn" data-tool="text" title="Text tool (Ctrl+6)">
                            <span class="icon">T</span>Text
                        </button>
                        <button id="tool-function" class="tool-btn" data-tool="function" title="Function tool (Ctrl+7)">
                            <span class="icon">f(x)</span>Function
                        </button>
                    </div>
                </div>

                <div class="axes-panel">
                    <h3>Axes Properties</h3>
                    <div class="form-group">
                        <label>X-axis Label:</label>
                        <input type="text" id="x-axis-label" value="X-axis" />
                    </div>
                    <div class="form-group">
                        <label>Y-axis Label:</label>
                        <input type="text" id="y-axis-label" value="Y-axis" />
                    </div>
                    <div class="form-group">
                        <label>X-axis Range:</label>
                        <input type="number" id="x-min" value="-10" placeholder="Min" />
                        <input type="number" id="x-max" value="10" placeholder="Max" />
                    </div>
                    <div class="form-group">
                        <label>Y-axis Range:</label>
                        <input type="number" id="y-min" value="-10" placeholder="Min" />
                        <input type="number" id="y-max" value="10" placeholder="Max" />
                    </div>
                    <div class="form-group">
                        <label>Grid:</label>
                        <input type="checkbox" id="show-grid" checked />
                    </div>
                    <div class="form-group">
                        <label>Aspect Ratio:</label>
                        <input type="number" id="aspect-ratio" value="1.0" step="0.1" min="0.1" max="10" />
                    </div>
                </div>

                <div class="function-panel" id="function-panel" style="display: none;">
                    <h3>Function Plot</h3>
                    <div class="form-group">
                        <label>Function f(x):</label>
                        <input type="text" id="function-expression" placeholder="e.g., x^2, sin(x), 1/x" />
                    </div>
                    <div class="form-group">
                        <label>X Range:</label>
                        <div class="range-inputs">
                            <input type="text" id="function-x-min" value="-‚àû" placeholder="Min (-‚àû for auto)" />
                            <span>to</span>
                            <input type="text" id="function-x-max" value="‚àû" placeholder="Max (‚àû for auto)" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Color:</label>
                        <input type="color" id="function-color" value="#0066cc" />
                    </div>
                    <div class="form-group">
                        <label>Line Width:</label>
                        <input type="number" id="function-width" value="2" min="1" max="10" step="1" />
                    </div>
                    <button id="add-function" class="btn btn-primary">Add Function</button>
                </div>

                <div class="object-list-panel">
                    <div class="panel-header">
                        <h3>Objects</h3>
                        <button class="collapse-toggle" id="objects-collapse-toggle" title="Toggle objects list">
                            <span class="collapse-icon">‚ñº</span>
                        </button>
                    </div>
                    <div id="object-list" class="collapsible-content">
                        <p class="no-objects">No objects in plot</p>
                    </div>
                </div>

                <div class="properties-panel">
                    <h3>Object Properties</h3>
                    <div id="object-properties">
                        <p class="no-selection">No object selected</p>
                    </div>
                </div>
            </div>

            <div class="canvas-container">
                <canvas id="plot-canvas" width="800" height="600"></canvas>
                <div class="canvas-overlay">
                    <div class="coordinates-display" id="coordinates"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="FunctionRenderer.js"></script>
    <script src="plotEditor.js"></script>
    <script src="script.js"></script>
    <p><a href="https://rashchedrin.github.io/">My other pages</a></p>
</body>
</html>
